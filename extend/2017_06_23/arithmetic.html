<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JavaScript Arithmetic</title>
</head>
<body>
<script>
    /**
     * @file JavaScript Ajax
     * @author 李文辉
     * @copyright 2014-2017 海量云图（北京）数据技术有限公司
     */

    /**
     * 重复一个指定的字符串 num次，如果num是一个负数则返回一个空字符串。
     * @param {String} str
     * @param {Number} num
     * @return {String}
     */
    function repeat(str, num) {
        var result = '';
        if (num < 0) {
            return '';
        } else {
            for (var i = 0; i < num; i++) {
                result += str;
            }
        }
        return result;
    }
    console.log(repeat("acde", 5))

    /**
     *位移密码算法
     * @param {String} str
     * @return {String}
     */
    function rot13(str) {
        var result = [];
        for (var i = 0; i < str.length; i++) {
            if (str.charCodeAt(i) >= 65 && str.charCodeAt(i) <= 90) {
                var code = str.charCodeAt(i) + 13;
                if (code > 90) {
                    code = str.charCodeAt(i) + 13 - 26;
                }
                result.push(String.fromCharCode(code));
            } else {
                result.push(str[i]);
            }
        }
        return result.join("");
    }
    console.log(rot13("ABCDNOPQ"))

    /**
     *摧毁(destroyer)函数.
     * @param {Array} arr 待摧毁的数组
     * @return {Array}
     */
    function destroy(arr) {
        var arr = arguments[0];
        var data = Array.prototype.slice.call(arguments, 1);
        for (var j = 0; j < data.length; j++) {
            for (var i = 0; i < arr.length; i++) {
                if (arr[i] === data[j]) {
                    arr.splice(i, 1);
                    i--;
                }
            }
        }
        return arr;
    }
    console.log(destroy([1, 1, 2, 2, 2, 3, 4, 5, 6, 7], 1, 2));

    /**
     *删除数组中的所有假值
     * @param {Array} arr
     * @return {Array}
     */
    function bouncer(arr) {
        // Don't show a false ID to this bouncer.
        for (var i = 0; i < arr.length; i++) {
            if (!arr[i] == true) {
                arr.splice(i, 1);
                i--;
            }
        }
        return arr;
    }
    console.log(bouncer([0, 1, 3, false, "", 66, "ivhv", true]))

    /**
     *把一个数组arr按照指定的数组大小size分割成若干个数组块。
     * @param {Array} arr
     * @param {Number} size
     * @return {Array}
     */
    function chunk(arr, size) {
        var result = [];
        var a = [];
        for (var i = 0; i < arr.length; i++) {
            a.push(arr[i]);
            if (((i + 1) % size == 0) || (i == arr.length - 1)) {
                result.push(a);

                a = [];
            }
        }
        return result;
    }
    console.log(chunk([0, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16], 4))

</script>
</body>
</html>